# <em>Foobar Eats Backend</em>

## Specifikation

Hej nya spindel! Nu Ã¤r det dags att bygga en liten server till FooBar Eats(TM). I korthet ska klienterna (anvÃ¤ndarnas hemsidor) kunna

- se vad som finns att kÃ¶pa
- lÃ¤gga en order
- se sin orderstatus.

FÃ¶r den vÃ¥ghalsiga finns Ã¤ven en svÃ¥rlÃ¤slig [OpenAPI-specifikation](https://foobar-eats.fly.dev/docs) som egentligen sÃ¤ger precis samma sak som punktlistan ovan fast pÃ¥ ett superpetigt sÃ¤tt. Men ni kommer behÃ¶va lÃ¤sa den i sinom tid fÃ¶r att servern ska passa med frontenden som era kollegor bygger. Det hela kan liknas vid Askungen, dÃ¤r era kollegors frontend Ã¤r foten och er server Ã¤r glasskon. OpenAPI-specifikationen i samma liknelse skulle vara [lÃ¤sten](https://sv.wikipedia.org/wiki/L%C3%A4st).[^1]

[^1]: FÃ¶rlÃ¥t fÃ¶r den liknelsen. Om ni kommer pÃ¥ nÃ¥gon bÃ¤ttre fÃ¥r ni gÃ¤rna Ã¤ndra detta dokument och Ã¶ppna en _pull request_. FrÃ¥ga en superman om ni Ã¤r osÃ¤kra pÃ¥ hur ni ska gÃ¶ra.

FÃ¶r att gÃ¶ra livet lite roligare och mer spÃ¤nnande fÃ¶r anvÃ¤ndarna fÃ¥r ni gÃ¤rna se till sÃ¥ att lagda ordrar sÃ¥ smÃ¥ningom blir klara. Hur snabbt de ska bli klara vÃ¤ljer ni sjÃ¤lva. Resten av specifikationen hann jag tyvÃ¤rr inte skriva sÃ¥ frÃ¥ga mig (Ã…ke) istÃ¤llet!

## Overview

This repo uses VSCode's Dev Containers extension to standardize the development environment and avoid headache-inducing installation. All development will happen inside a Docker container which installs the same dependencies and versions on every developer's machine.

## Installation

You can either run the project locally or via Github codespaces. Since Github has way better servers than most of us and running our projects can be quite demanding for most computers, we recommend using codespaces. In either case, the actual experience when coding will be similar.

### Using Codespaces

1. Go to the main Github page and click the green "Code" button
2. Go to the codespaces tab and create a new codespace
3. Everything should set itself up automatically, wait until it says "your application running is available at...".
4. If you want to get back to the codespace after closing it, go to the repository and once again click the green CODE button. It should show up in a list. You can also choose to open the codespace using vscode if you don't like the URL bar at the top, by clicking the three dots next to the codespace.
5. After configuration has finished in the open terminal, it should say `Done. Press any key to close the terminal`. Open `main.py` and make sure VSCode has selected our Python interpreter from `.venv` folder: In the bottom right corner of VSCode it should say approximately `Python 3.11.2 ('.venv': venv)`. Otherwise, open Command Palette -> `Python: Select Interpreter` and choose `./.venv/bin/python`. 
6. Open a new Bash terminal (`Ctrl + Shift + Ã–`) and run `uvicorn main:app --reload`. Terminal should have (.env), otherwise run `source .venv/bin/activate`.
7. Go to http://127.0.0.1:8000/docs for the Swagger page automatically generated by FastAPI ðŸŽ‰

### Running Locally

0. Using Windows? First set up WSL 2.
    - Press Windows `âŠž` -> "Turn Windows features on or off". Enable "Windows Subsystem for Linux", might need to enable "Virtual Machine Platform" also.
    - Open Powershell as admin.
    - `wsl --install`  
    - `wsl --set-default-version 2`
    - `wsl --install -d Ubuntu-22.04`
    - `wsl --set-default Ubuntu-22.04`
    -  For more info: [Microsoft documentation](https://learn.microsoft.com/en-us/windows/wsl/install)


1. Install [Docker Desktop](https://www.docker.com/products/docker-desktop/). 

    - Windows users: Make sure you select Use WSL 2 instead of Hyper-V if the option is presented.

1. Open a new VSCode window and install Dev Containers extension from the Extensions menu.
 
1. Open the Command Palette (`Ctrl + Shift + P` / `Cmd + Shift + P`) and select `Dev Containers: Clone Repository in Container Volume...`. Select `GitHub`, then enter `fsek/foobar-eats-backend.git`.

1. After configuration has finished in the open terminal, it should say `Done. Press any key to close the terminal`. Open `main.py` and make sure VSCode has selected our Python interpreter from `.venv` folder: In the bottom right corner of VSCode it should say approximately `Python 3.11.2 ('.venv': venv)`. Otherwise, open Command Palette -> `Python: Select Interpreter` and choose `./.venv/bin/python`. 

1. Open a new Bash terminal (`Ctrl + Shift + Ã–`) and run `uvicorn main:app --reload`. Terminal should have (.env), otherwise run `source .venv/bin/activate`.

1. Go to http://127.0.0.1:8000/docs for the Swagger page automatically generated by FastAPI ðŸŽ‰

1. From now on, whenever you want to open this project: Open a new VSCode window and in Recent, find `foobar-eats-backend in a unique volume [Dev Container]`. Don't re-run `Clone Repository...` from step 3.

## Play around
1. Try calling some routes.

1. Evidently, the database is already filled with some starting data. This was done in the `seed.py` file when the server started. Go check it out!

1. You can stop the FastAPI server anytime by entering `Ctrl+C` in the Bash terminal.

1. Run `pip list` to see all installed pip packages.
